{% extends "template.html" %} {% block custom_css %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/custom_style.css') }}"
/>
{% endblock %} {% block content %}
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <h2 class="text-center mb-4">Password Manager</h2>
      <div class="d-grid gap-2 mb-4">
        <button id="Listbutton" class="btn btn-primary">
          Load Encrypted Passwords
        </button>
      </div>
      <div class="table-responsive">
        <table id="passwordTable" class="table">
          <thead class="table-light">
            <tr>
              <th scope="col">Encrypted Password</th>
            </tr>
          </thead>
          <tbody>
            <!-- Rows will be added here by JavaScript -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
<script>
    document.getElementById("Listbutton").addEventListener("click", function () {
        fetch("/Maketable")
            .then((response) => response.json())
            .then((data) => {
                const tableBody = document.querySelector("#passwordTable tbody");
                tableBody.innerHTML = ""; // Clear existing table rows
                data.forEach((item) => {
                    const row = document.createElement("tr");
    
                    // Encrypted Password Cell
                    const encryptedPasswordCell = document.createElement("td");
                    encryptedPasswordCell.textContent = item.encrypted; // Display encrypted password
                    row.appendChild(encryptedPasswordCell);
    
                    tableBody.appendChild(row);
                });
            })
            .catch((error) => console.error("Error loading the passwords:", error));
    });
</script>
{% endblock %}